"""
This code is for the visualization of the spike number generated by every neuron. 
The spike numbers are loaded from the 'iteration_x' folder.
"""
"""
on 25th May 
by xiaoquinNUDT
version 0.0
"""
"""
test: no
"""
"""
optimazation record:
"""
##-----------------------------------------------------------------------------------------
import numpy as np
# np.fromfile() np.where() np.argsort() np.zeros() np.sum()
import matplotlib.pyplot as plt
# plt.figure() plt.title() plt.plot()
import sys
# sys.argv[]
##-----------------------------------------------------------------------------------------
name_run = str(sys.argv[1])
iteration = str(sys.argv[2])
num_output_neuron = int(sys.argv[3])
path_spike_counter = '../simulation_archive/' + name_run + '/iteration_' + iteration + '/'
#spike_counter = np.load(path_spike_counter + 'spike_counter' + '_' + str(num_output_neuron) + '_' + str(iteration) + '_nohomo.npy')
spike_counter = np.load(path_spike_counter + 'spike_counter' + '_' + str(num_output_neuron) + '_nohomo.npy')
example_step = np.arange(len(spike_counter) - 1)
font_label = {'family' : 'Times New Roman',
'weight' : 'normal',
'size'   : 15,
}
fig, ax = plt.subplots()
ax.plot(example_step, spike_counter[:-1])
plt.xlabel('Training examples in hundred', font_label)
plt.ylabel('Spike numbers of the ten neurons', font_label)
plt.xticks(fontsize=15)
plt.yticks(fontsize=15)
#ax.set(xlabel = 'Training examples in hundred', ylabel = 'Spike numbers for 100 examples')
plt.ioff()
plt.savefig(path_spike_counter + 'spike_counter' + '_' + str(num_output_neuron) + '_nohomo.png')
plt.show()
